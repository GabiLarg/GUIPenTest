import library


class parse:
    operacional = ''
    hosts = 0
    items = [('valor', 'nome')]
    d = dict(items)
    portas = [0, '', '']

    def setDominio(self, dominio):
        self.dominio = dominio
        self.d['Dominio'] = dominio
        self.comando = 'python ../theHarvester/theHarvester.py -d ' + dominio.decode()+' -b all'  # nmap -v -A dominio

    def run(self):
        c = library.pegarSaidaShell(self.comando)
        for result in c:
            library.getVarible(self.d, 'IP',result)
            library.getVarible(self.d, 'Host', result)
            library.getVarible(self.d, 'Email', result)
            '''
            library.pegarVariavel(self.d, 'Outros enderecos', result, 'addresses for', ':', '')
            library.pegarVariavel(self.d, 'porta', result, 'open port', 'port ', '/')
            library.pegarVariavel(self.d, 'Sistema Operacional', result, 'OS guesses', ':', ',')
            '''

parse = parse()
parse.setDominio(b'ifspcaraguatatuba.edu.br')
parse.run()
print(parse.d)