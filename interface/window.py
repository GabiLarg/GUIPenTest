import Tkinter as Tk
import Nmap
import theHarvester
# from Comands import call_comands as cc
nmap = Nmap.NMap()
theH = theHarvester.theHarvester()
def run(domain):
    theH.setDominio(b'' + str(domain.get()))
    theH.run()
    print("the Harvester %s" % theH.d)
    nmap.setDominio(b''+str(domain.get()))
    nmap.run()
    print("Nmap %s" % nmap.d)

    # program = '../theHarvester/theHarvester'
    # params = '-d '+ str(domain.get())+' -b all'
    # bar = cc.Comando()
    #
    # bar.buildComando(program, params, 'py')
    # bar.run()

class Window:

    def __init__(self):
        self.open_window()

    def open_window(self):
        root = Tk.Tk()
        root.title('GUIPenTest')
        '''
        mymenubar = Tk.Frame(root, relief='raised', bd=2)
        mymenubar.pack(fill=Tk.X)
        mymenubutton = Tk.Menubutton(mymenubar, text='Menu Button Widget 1', )
        mymenubutton.pack(side=Tk.LEFT)
        mymenu = Tk.Menu(mymenubutton, tearoff=0)
        mymenubutton['menu'] = mymenu
        mymenu.add('command', label='Menu Widget 1')
        '''
        #Tk.Label(root, text="The Harvester").grid(row=0, column=0, columnspan=3)
        Tk.OptionMenu(root, "Select program","Reconnaissance", "Scanning").grid(row=1)

        Tk.Label(root, text="Target").grid(row=1, column=0)
        target = Tk.StringVar()
        Tk.Entry(root, width=40, textvariable=target).grid(row=1, column=1, columnspan=2)

        Tk.Label(root, text="Data Source:").grid(row=2, column=0)


        Tk.Button(root, text='Run Forest!', command=lambda: run(target)).grid(row=10, column=2)


        root.mainloop()
