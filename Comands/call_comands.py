import subprocess


'''
-- Classe que recebe um comando do shell
-- e devolve lista de Strings de STDOUT
'''
class Comando:


    def setComando(self, comando):
        self.comando= comando

    def buildComando(self, program, params, type):
        self.program = program
        self.params = params
        self.type = type
        if type == 'py':
            linha = 'python '+ program+ '.py '+params
        else:
            linha = program + ' ' + params
        self.setComando(linha)
    def getline(self):
        p = subprocess.Popen(self.comando.split(),
                         stdout=subprocess.PIPE,
                         stderr=subprocess.STDOUT)
        return iter(p.stdout.readline, b'')
    def run(self):
        for result in self.getline():
            print(result)

# linha = 'python theHarvester.py -d www.google.com -b all '
# foo=Comando()
# foo.setComando(linha)
# foo.run()
